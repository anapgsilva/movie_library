<%= form_for @movie do |f|%>

  <%= f.label :title %>
  <%= f.text_field :title, :autofocus => true, :required => true %>

  <%= f.label :cover %>
  <%= f.url_field :cover %>

  <%= f.label :year %>
  <%= f.text_field :year %>

  <%= f.label "Duration (mins)" %>
  <%= f.number_field :duration %>

  <%= f.label :genre_id %>
  <%= f.select :genre_ids, options_from _collection_for_select((Genre.all, :id, :name), (@movie.genres.collect{|genre| [genre.name, genre.id]})), {}, {multiple: true, size: 4} %>

<!-- f.text_field :genre_ids, Genre.pluck(:name, :id) -->

  <%= f.label :actor_id %>
  <%= f.select :actor_ids, Actor.pluck(:name, :id) %>

  <%= f.label :director_id %>
  <%= f.select :director_id, Director.pluck(:name, :id), :include_blank => true %>

  <%= f.label :synopsis %>
  <%= f.text_field :synopsis %>

  <%= f.label :library_id %>
  <%= f.select :library_ids, @libraries.pluck(:name, :id), :include_blank => true %>

  <%= f.submit %>

<% end %>
